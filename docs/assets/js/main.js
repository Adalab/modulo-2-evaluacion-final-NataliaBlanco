"use strict";const AllLists=document.querySelector(".js-allLists"),inputCocktailName=document.querySelector(".js-input-cocktail"),btnSearch=document.querySelector(".js-btn-search"),btnReset=document.querySelector(".js-btn-reset"),cocktailList=document.querySelector(".js-list"),cocktailFavList=document.querySelector(".js-favourites-list"),cocktailDefault="margarita",url="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=";let listCocktailData=[],listfavCocktailData=[];function handleClickBtnSrch(t){t.preventDefault();dataApi(inputCocktailName.value)}function dataApi(t){fetch(url+t).then(t=>t.json()).then((function(t){console.log(t),listCocktailData=t.drinks,PaintAllCocktails(listCocktailData)}))}function PaintCocktail(t,a){let i="";!0===a&&(i=`<i class="far fa-times-circle li-card-icon js-li-card-icon" id=${t.idDrink}></i>`);let c=`<li class="js-li-card li-card" id=${t.idDrink}>\n    <h3 class=li-card-title>${t.strDrink}</h3>\n    <img src=${t.strDrinkThumb} alt=${t.strDrink} width=150 height=150 class="li-card-img">`;return c+=i+"</li>",c}function PaintAllCocktails(t){cocktailList.innerHTML="";for(const a of t)cocktailList.innerHTML+=PaintCocktail(a,!1);addEventToCard()}function ClickFav(t){t.currentTarget.classList.toggle("selected_cards");const a=t.currentTarget.id,i=listCocktailData.find(t=>t.idDrink===a),c=listfavCocktailData.findIndex(t=>t.idDrink===a);-1===c?listfavCocktailData.push(i):listfavCocktailData.splice(c,1),PaintFavCocktails(listfavCocktailData),DelFav()}function pullFavList(){const t=JSON.parse(localStorage.getItem("favCocktails"));t&&(listfavCocktailData=t,PaintFavCocktails(t))}function PaintFavCocktails(t){cocktailFavList.innerHTML="",AllLists.classList.add("allLists");for(const a of t)cocktailFavList.innerHTML+=PaintCocktail(a,!0);localStorage.setItem("favCocktails",JSON.stringify(listfavCocktailData))}function handleClickBtnReset(t){t.preventDefault(),cocktailFavList.innerHTML="",cocktailList.innerHTML+=PaintCocktail(cocktail,!1)}function delFavCards(t){const a=t.currentTarget.id;console.log(a);const i=listfavCocktailData.findIndex(t=>t.idDrink===a);-1!==i&&listfavCocktailData.splice(i,1),PaintFavCocktails(listfavCocktailData)}function addEventToCard(){const t=document.querySelectorAll(".js-li-card");for(const a of t)a.addEventListener("click",ClickFav)}function DelFav(){const t=document.querySelectorAll(".js-li-card-icon");console.log(t);for(const a of t)a.addEventListener("click",delFavCards)}dataApi("margarita"),btnSearch.addEventListener("click",handleClickBtnSrch),btnReset.addEventListener("click",handleClickBtnReset),pullFavList();